# ğŸ“¦ æ‰“åŒ…ç¤ºä¾‹

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ‰“åŒ…æµç¨‹ç¤ºä¾‹,æ¼”ç¤ºå¦‚ä½•ä¸ºä¸åŒå¹³å°æ‰“åŒ… FFmpeg Binary æœåŠ¡ã€‚

## ğŸ¨ æ­¥éª¤ 1: ç”Ÿæˆåº”ç”¨å›¾æ ‡

å›¾æ ‡å·²ç»è®¾è®¡å¥½äº†(`assets/icons/icon.svg`),ç°åœ¨éœ€è¦å°† SVG è½¬æ¢ä¸ºå„å¹³å°æ ¼å¼:

```bash
# ç”Ÿæˆæ‰€æœ‰å¹³å°çš„å›¾æ ‡
./scripts/generate-icons.sh
```

**è¾“å‡º:**
- `assets/icons/icon.icns` - macOS
- `assets/icons/icon.ico` - Windows  
- `assets/icons/icon.png` - Linux (512x512)

> **æ³¨æ„**: éœ€è¦å®‰è£… ImageMagick: `brew install imagemagick librsvg`

---

## ğŸ æ­¥éª¤ 2: æ‰“åŒ… macOS PKG (æ¨è)

### æ–¹å¼ 1: PKG å®‰è£…åŒ… (æ¨è - å›¾å½¢åŒ–å®‰è£…ç•Œé¢)

```bash
# 1. åŒæ­¥ vendor ä¾èµ– (é‡è¦!)

# 2. æ‰§è¡Œæ‰“åŒ…
./scripts/build-macos-pkg.sh
```

> **æ³¨æ„**: å¦‚æœé‡åˆ° "inconsistent vendoring" é”™è¯¯,å…ˆè¿è¡Œ `go mod vendor` åŒæ­¥ä¾èµ–ã€‚

**è¾“å‡º:**
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           macOS PKG å®‰è£…åŒ…æ„å»ºå·¥å…·                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

==> æ¸…ç†æ—§æ–‡ä»¶...
==> ç¼–è¯‘ macOS Universal Binary...
    æ¶æ„: amd64 + arm64
    âœ… Universal Binary å·²ç”Ÿæˆ
==> åˆ›å»º .app åŒ…...
    âœ… .app åŒ…å·²åˆ›å»º
==> åˆ›å»ºå®‰è£…è„šæœ¬...
    âœ… å®‰è£…è„šæœ¬å·²åˆ›å»º
==> åˆ›å»ºå®‰è£…ç•Œé¢æ–‡æœ¬...
    âœ… å®‰è£…ç•Œé¢æ–‡æœ¬å·²åˆ›å»º
==> æ„å»ºç»„ä»¶åŒ…...
    âœ… ç»„ä»¶åŒ…å·²åˆ›å»º
==> æ„å»ºæœ€ç»ˆå®‰è£…åŒ…...
    âœ… å®‰è£…åŒ…å·²åˆ›å»º
==> è®¾ç½®å®‰è£…åŒ…å›¾æ ‡...
    âœ… å›¾æ ‡å·²è®¾ç½®

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                 âœ… æ‰“åŒ…å®Œæˆ!                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ å®‰è£…åŒ…: dist/macos/GoalfyMediaConverter-Installer.pkg
```

**ç”¨æˆ·å®‰è£…ä½“éªŒ (åƒçˆ±å¥‡è‰ºã€ç½‘æ˜“äº‘é‚£æ ·):**

1. ç”¨æˆ·åŒå‡» `GoalfyMediaConverter-Installer.pkg`
2. æ‰“å¼€æ ‡å‡†çš„ macOS å®‰è£…å™¨ç•Œé¢,æ˜¾ç¤º:
   - **æ¬¢è¿é¡µé¢**: ä»‹ç»äº§å“åŠŸèƒ½å’Œç³»ç»Ÿè¦æ±‚
   - **å®‰è£…ä½ç½®**: /Applications/ (ç³»ç»Ÿé»˜è®¤)
   - **å®‰è£…è¿›åº¦**: æ˜¾ç¤ºå®‰è£…è¿›åº¦æ¡
   - **å®Œæˆé¡µé¢**: æ˜¾ç¤ºå®‰è£…æˆåŠŸä¿¡æ¯
3. ç‚¹å‡»"ç»§ç»­" â†’ "å®‰è£…" â†’ è¾“å…¥ç®¡ç†å‘˜å¯†ç  â†’ å®Œæˆ
4. **å®‰è£…è¿‡ç¨‹è‡ªåŠ¨å®Œæˆä»¥ä¸‹æ“ä½œ:**
   - è‡ªåŠ¨ä¸‹è½½å¹¶å®‰è£… FFmpeg é™æ€äºŒè¿›åˆ¶ (ä½¿ç”¨ curl ä» evermeet.cx)
   - æ— éœ€ Homebrew,é€‚é…æ‰€æœ‰ Mac ç”¨æˆ·
   - æ”¯æŒ Apple Silicon (arm64) å’Œ Intel (amd64)
5. **æœåŠ¡è‡ªåŠ¨åœ¨åå°å¯åŠ¨,æ²¡æœ‰ä»»ä½•é»‘è‰²ç»ˆç«¯çª—å£**
6. æœåŠ¡åœ°å€: http://127.0.0.1:28888

**ä¼˜ç‚¹:**
- âœ… çœŸæ­£çš„å›¾å½¢åŒ–å®‰è£…ç•Œé¢
- âœ… ç¬¦åˆ macOS æ ‡å‡†å®‰è£…ä½“éªŒ
- âœ… è‡ªåŠ¨å®‰è£… FFmpeg (ä¸ä¾èµ– brew)
- âœ… æ— éœ€åŒå‡» .command æ–‡ä»¶
- âœ… æ— ç»ˆç«¯é»‘çª—å£
- âœ… åå°é™é»˜è¿è¡Œ
- âœ… è‡ªåŠ¨é…ç½®å¼€æœºè‡ªå¯åŠ¨
- âœ… å›ºå®šç«¯å£ 28888
- âœ… æ”¯æŒ Universal Binary (Intel + Apple Silicon)

---

### æ–¹å¼ 2: DMG å®‰è£…åŒ… (å¤‡é€‰)

å¦‚æœéœ€è¦ DMG æ ¼å¼,å¯ä»¥è¿è¡Œ:

```bash
# æ‰§è¡Œæ‰“åŒ…
./scripts/build-macos.sh
```

**è¾“å‡º:**
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           macOS DMG æ‰“åŒ…å·¥å…·                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

==> æ¸…ç†æ—§æ–‡ä»¶...
==> ç¼–è¯‘ macOS Universal Binary...
    æ¶æ„: amd64 + arm64
    âœ… Universal Binary å·²ç”Ÿæˆ
==> åˆ›å»º .app åŒ…...
    âœ… .app åŒ…å·²åˆ›å»º
==> åˆ›å»ºå®‰è£…è„šæœ¬...
    âœ… å®‰è£…è„šæœ¬å·²åˆ›å»º
==> åˆ›å»º DMG å®‰è£…åŒ…...
    âœ… ä½¿ç”¨ create-dmg åˆ›å»º

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                 âœ… æ‰“åŒ…å®Œæˆ!                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ DMG æ–‡ä»¶: dist/macos/FFmpeg-Binary-Installer.dmg
ğŸ“‚ åº”ç”¨åŒ…: dist/macos/FFmpeg-Binary.app
```

**DMG å†…å®¹:**
- `FFmpeg-Binary.app` - åº”ç”¨ç¨‹åº
- `å®‰è£….command` - ä¸€é”®å®‰è£…è„šæœ¬
- `ä½¿ç”¨è¯´æ˜.txt` - ä½¿ç”¨æ–‡æ¡£

**æ³¨æ„:** DMG æ–¹å¼ä¼šæ‰“å¼€ç»ˆç«¯çª—å£æ‰§è¡Œå®‰è£…,æ¨èä½¿ç”¨ PKG æ–¹å¼

---

## ğŸªŸ æ­¥éª¤ 3: æ‰“åŒ… Windows EXE

```batch
REM åœ¨ Windows ä¸Šæ‰§è¡Œ
scripts\build-windows.bat
```

**è¾“å‡º:**
```
================================================================
           Windows EXE æ‰“åŒ…å·¥å…·
================================================================

==> æ¸…ç†æ—§æ–‡ä»¶...
==> ç¼–è¯‘ Windows å¯æ‰§è¡Œæ–‡ä»¶...
    âœ… å¯æ‰§è¡Œæ–‡ä»¶å·²ç”Ÿæˆ
==> åˆ›å»ºå®‰è£…å™¨...
    âœ… å®‰è£…å™¨å·²åˆ›å»º

================================================================
                 âœ… æ‰“åŒ…å®Œæˆ!
================================================================

ğŸ“¦ å¯æ‰§è¡Œæ–‡ä»¶: dist\windows\FFmpeg-Binary.exe
ğŸ“‚ å®‰è£…å™¨: dist\windows\installer\

ä½¿ç”¨æ–¹æ³•: ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ installer\install.bat
```

**ç”¨æˆ·å®‰è£…ä½“éªŒ:**

1. ç”¨æˆ·è·å¾— `installer` æ–‡ä»¶å¤¹
2. å³é”®ç‚¹å‡» `install.bat`
3. é€‰æ‹© "ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ"
4. çœ‹åˆ°:
   ```
   æ­£åœ¨å®‰è£… FFmpeg Binary...
   å®‰è£…å®Œæˆ!
   æŒ‰ä»»æ„é”®ç»§ç»­...
   ```

---

## ğŸ§ æ­¥éª¤ 4: æ‰“åŒ… Linux åŒ…

```bash
# æ‰§è¡Œæ‰“åŒ…
./scripts/build-linux.sh
```

**è¾“å‡º:**
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           Linux è½¯ä»¶åŒ…æ‰“åŒ…å·¥å…·                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

==> æ¸…ç†æ—§æ–‡ä»¶...
==> ç¼–è¯‘ Linux äºŒè¿›åˆ¶æ–‡ä»¶...
    æ¶æ„: amd64
    âœ… äºŒè¿›åˆ¶æ–‡ä»¶å·²ç”Ÿæˆ
==> åˆ›å»º DEB åŒ…...
    âœ… DEB åŒ…å·²åˆ›å»º
==> åˆ›å»º RPM åŒ…...
    âœ… RPM åŒ…å·²åˆ›å»º
==> åˆ›å»ºé€šç”¨å®‰è£…è„šæœ¬...
    âœ… å®‰è£…è„šæœ¬å·²åˆ›å»º

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                 âœ… æ‰“åŒ…å®Œæˆ!                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ äºŒè¿›åˆ¶æ–‡ä»¶: dist/linux/ffmpeg-binary
ğŸ“¦ DEB åŒ…: dist/linux/ffmpeg-binary_1.0.0_amd64.deb
ğŸ“¦ RPM åŒ…: dist/linux/*.rpm
ğŸ“œ é€šç”¨å®‰è£…è„šæœ¬: dist/linux/install.sh

ä½¿ç”¨æ–¹æ³•:
  Debian/Ubuntu: sudo dpkg -i ffmpeg-binary_1.0.0_amd64.deb
  CentOS/RHEL:   sudo rpm -i ffmpeg-binary-1.0.0-1.*.rpm
  é€šç”¨æ–¹æ³•:      sudo ./install.sh
```

**ç”¨æˆ·å®‰è£…ä½“éªŒ (Debian):**

```bash
$ sudo dpkg -i ffmpeg-binary_1.0.0_amd64.deb

æ­£åœ¨é…ç½® FFmpeg Binary æœåŠ¡...
FFmpeg Binary æœåŠ¡å·²å®‰è£…å¹¶å¯åŠ¨
æœåŠ¡åœ°å€: http://127.0.0.1:28888
```

---

## ğŸ“‹ å®Œæ•´æ‰“åŒ…æ£€æŸ¥æ¸…å•

### å‡†å¤‡é˜¶æ®µ

- [x] æ›´æ–°ç‰ˆæœ¬å·(åœ¨å„è„šæœ¬ä¸­)
- [x] åŒæ­¥ vendor ä¾èµ–: `go mod vendor`
- [x] æµ‹è¯•ä»£ç ç¼–è¯‘: `go build`
- [x] æäº¤æ‰€æœ‰ä»£ç æ›´æ”¹

> **é‡è¦**: æ‰“åŒ…å‰å¿…é¡»å…ˆè¿è¡Œ `go mod vendor` åŒæ­¥ä¾èµ–!

### å›¾æ ‡ç”Ÿæˆ

```bash
# ç”Ÿæˆæ‰€æœ‰å¹³å°å›¾æ ‡
./scripts/generate-icons.sh
```

### macOS æ‰“åŒ… (æ¨è PKG)

```bash
# 1. åŒæ­¥ vendor ä¾èµ– (é‡è¦!)
go mod vendor

# 2. æ‰“åŒ… PKG (æ¨è)
./scripts/build-macos-pkg.sh

# 3. éªŒè¯
open dist/macos/GoalfyMediaConverter-Installer.pkg

# æˆ–è€…æ‰“åŒ… DMG (å¤‡é€‰)
./scripts/build-macos.sh
open dist/macos/FFmpeg-Binary-Installer.dmg
```

### Windows æ‰“åŒ…

```batch
REM æ‰“åŒ…
scripts\build-windows.bat

REM æµ‹è¯•(å³é”®ä»¥ç®¡ç†å‘˜è¿è¡Œ)
dist\windows\installer\install.bat
```

### Linux æ‰“åŒ…

```bash
# æ‰“åŒ…
./scripts/build-linux.sh

# æµ‹è¯• DEB
sudo dpkg -i dist/linux/ffmpeg-binary_1.0.0_amd64.deb

# éªŒè¯æœåŠ¡
curl http://127.0.0.1:28888/health
```

---

## ğŸ‰ å‘å¸ƒ

### 1. åˆ›å»º GitHub Release

```bash
# åˆ›å»ºæ ‡ç­¾
git tag v1.0.0
git push origin v1.0.0
```

### 2. ä¸Šä¼ å®‰è£…åŒ…

åœ¨ GitHub Releases é¡µé¢ä¸Šä¼ :

- `FFmpeg-Binary-Installer.dmg` (macOS)
- `FFmpeg-Binary-Setup.zip` (Windows installer æ–‡ä»¶å¤¹å‹ç¼©)
- `ffmpeg-binary_1.0.0_amd64.deb` (Linux Debian)
- `ffmpeg-binary-1.0.0-1.rpm` (Linux RPM)

### 3. å‘å¸ƒè¯´æ˜ç¤ºä¾‹

```markdown
## GoalfyMediaConverter v1.0.0

### åŠŸèƒ½ç‰¹æ€§

- âœ… WebM åˆ° MP4 è§†é¢‘è½¬æ¢
- âœ… è§†é¢‘åˆ‡å‰²åŠŸèƒ½ (æ ¹æ®æ—¶é—´åŒºé—´åˆ é™¤ç‰‡æ®µ)
- âœ… åˆ†ç‰‡ä¸Šä¼ æ”¯æŒ (å¤§æ–‡ä»¶å‹å¥½)
- âœ… å®æ—¶è½¬æ¢è¿›åº¦æŸ¥è¯¢
- âœ… æ‰¹é‡æ–‡ä»¶ç®¡ç†
- âœ… è‡ªåŠ¨ç«¯å£é…ç½® (28888)
- âœ… å¼€æœºè‡ªå¯åŠ¨
- âœ… æœ¬åœ°æœåŠ¡ (127.0.0.1)
- âœ… è‡ªåŠ¨å®‰è£… FFmpeg (æ— éœ€ Homebrew)

### ä¸‹è½½

- [macOS (PKG)](GoalfyMediaConverter-Installer.pkg) - æ”¯æŒ Intel å’Œ Apple Silicon
- [Windows (ZIP)](FFmpeg-Binary-Setup.zip) - Windows 10/11
- [Linux DEB](ffmpeg-binary_1.0.0_amd64.deb) - Ubuntu/Debian
- [Linux RPM](ffmpeg-binary-1.0.0-1.rpm) - CentOS/RHEL/Fedora

### å®‰è£…è¯´æ˜

è¯¦è§é¡¹ç›®æ–‡æ¡£

### ç³»ç»Ÿè¦æ±‚

- macOS 10.15+ / Windows 10+ / Linux (ç°ä»£å‘è¡Œç‰ˆ)
- æ— éœ€é¢„è£… FFmpeg (macOS è‡ªåŠ¨å®‰è£…)
```

---

## ğŸ’¡ æŠ€å·§å’Œæç¤º

### macOS ç­¾å(å¯é€‰)

å¦‚æœæœ‰å¼€å‘è€…è¯ä¹¦,å¯ä»¥ç­¾ååº”ç”¨:

```bash
# ç­¾å
codesign --deep --force --verify --verbose \
  --sign "Developer ID Application: Your Name" \
  dist/macos/FFmpeg-Binary.app

# éªŒè¯
codesign --verify --deep --strict --verbose=2 \
  dist/macos/FFmpeg-Binary.app
```

### Windows å›¾æ ‡åµŒå…¥

å¦‚æœæƒ³åµŒå…¥å›¾æ ‡åˆ° EXE:

```bash
# å®‰è£…å·¥å…·
go install github.com/tc-hib/go-winres@latest

# ç”Ÿæˆèµ„æºæ–‡ä»¶
go-winres simply --icon assets/icons/icon.ico

# é‡æ–°ç¼–è¯‘
go build -ldflags="-s -w -H windowsgui" -o dist/windows/FFmpeg-Binary.exe
```

### è‡ªåŠ¨åŒ–æ„å»º

åˆ›å»º `Makefile`:

```makefile
.PHONY: icons macos windows linux all

icons:
	./scripts/generate-icons.sh

macos: icons
	./scripts/build-macos.sh

windows: icons
	./scripts/build-windows.bat

linux: icons
	./scripts/build-linux.sh

all: icons macos linux
	@echo "âœ… æ‰€æœ‰å¹³å°æ‰“åŒ…å®Œæˆ!"
```

ä½¿ç”¨:
```bash
make all
```

---

**å®Œæˆ!** ğŸ‰

ç°åœ¨ä½ æœ‰äº†:
- ç¾è§‚çš„åº”ç”¨å›¾æ ‡
- ä¸“ä¸šçš„ macOS PKG å®‰è£…åŒ… (æ¨è) æˆ– DMG (å¤‡é€‰)
- ç®€å•çš„ Windows å®‰è£…å™¨
- æ ‡å‡†çš„ Linux è½¯ä»¶åŒ…
- å®Œæ•´çš„æ–‡æ¡£

ç”¨æˆ·å¯ä»¥è½»æ¾å®‰è£…å¹¶ä½¿ç”¨ä½ çš„æœåŠ¡!
